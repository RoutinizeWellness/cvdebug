
    // Remove any remaining code blocks or markdown formatting
    // Optional: Further cleaning can be added here if needed.

    const jsonObject = JSON.parse(cleaned);
    return jsonObject;
  } catch (error) {
    console.error("[extractJSON] Failed to parse JSON:", error);
    throw error;
  }
}
=======
export function extractJSON(content: string): any {
  try {
    console.log("[extractJSON] Starting JSON extraction, content length:", content.length);
    
    let cleaned = content.trim();
    
    // Remove markdown code blocks - use proper regex without double escaping
    cleaned = cleaned.replace(/^